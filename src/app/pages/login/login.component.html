<div class="login-container">
  <h2>Iniciar sesión</h2>
  <form (ngSubmit)="onLogin()">
    <div class="form-group">
      <label for="email">Correo electrónico</label>
      <input type="email" id="email" [(ngModel)]="email" name="email" required />
    </div>

     <div class="form-group password-group">
      <label for="password">Contraseña</label>
      <div class="password-wrapper">
        <input
          [type]="showPassword ? 'text' : 'password'"
          id="password"
          [(ngModel)]="password"
          name="password"
          required
        />
        <button mat-icon-button type="button" (click)="togglePasswordVisibility()" matTooltip="Mostrar/Ocultar contraseña">
          <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </div>
    </div>

    <div class="form-group checkbox-group">
      <input type="checkbox" id="terms" [(ngModel)]="acceptedTerms" name="terms"/>
        <label for="terms" class="checkbox-label">
         Acepto los <a href="#" (click)="openModal($event)">términos y condiciones</a>
        </label>
    </div>
    <div *ngIf="showTermsError" class="error-message">
      Debes aceptar los términos y condiciones para continuar.
    </div>

    <button type="submit" class="btn-submit">Iniciar sesión</button>
  </form>

  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
  <p class="register-link">¿No tienes una cuenta? <a routerLink="/register">Regístrate aquí</a></p>

  <!-- Modal -->
  <div class="modal-overlay" *ngIf="showModal">
    <div class="modal-content">
      <h2 class="modal-title">Términos y Condiciones</h2>
      <div class="modal-body">
        <p><strong>Última actualización:</strong> 31 de mayo de 2025</p>

        <section>
          <h3>1. Introducción</h3>
          <p>
            Bienvenido a Predix. Al acceder y utilizar esta aplicación, el usuario acepta los presentes términos y condiciones. Si no está de acuerdo con alguna disposición, le recomendamos abstenerse de utilizar la aplicación.
          </p>
        </section>

        <section>
          <h3>2. Uso de la aplicación</h3>
          <ul>
            <li>Uso exclusivo para fines educativos y de investigación.</li>
            <li>Prohibido el uso para actividades comerciales, ilegales o que vulneren derechos de terceros.</li>
            <li>Nos reservamos el derecho de suspender o cancelar el acceso por incumplimiento.</li>
          </ul>
        </section>

        <section>
          <h3>3. Protección de datos personales</h3>
          <ul>
            <li>Conforme a la <strong>Ley N° 29733 - Ley de Protección de Datos Personales</strong> y su reglamento.</li>
            <li>La información solo será usada para fines indicados en la política de privacidad.</li>
            <li>El usuario puede solicitar modificación o eliminación de sus datos personales.</li>
          </ul>
        </section>

        <section>
          <h3>4. Propiedad intelectual</h3>
          <ul>
            <li>Contenido propiedad de [Nombre de la empresa o institución].</li>
            <li>Protegido por la <strong>Ley sobre el Derecho de Autor (Decreto Legislativo N° 822)</strong>.</li>
            <li>Prohibida su reproducción, distribución o modificación sin autorización.</li>
          </ul>
        </section>

        <section>
          <h3>5. Responsabilidad del usuario</h3>
          <ul>
            <li>Uso ético conforme a la normativa vigente.</li>
            <li>No nos hacemos responsables por usos indebidos o daños.</li>
          </ul>
        </section>

        <section>
          <h3>6. Modificaciones y actualizaciones</h3>
          <ul>
            <li>Podemos modificar estos términos en cualquier momento.</li>
            <li>Se notificará a través de la aplicación o medios oficiales.</li>
          </ul>
        </section>

        <section>
          <h3>7. Legislación aplicable y jurisdicción</h3>
          <ul>
            <li>Rigen las leyes peruanas, incluyendo la <strong>Ley N° 29571</strong>.</li>
            <li>Disputas se resolverán bajo la legislación vigente en Perú.</li>
          </ul>
        </section>

        <section>
          <h3>8. Contacto</h3>
          <p>Para consultas, contáctanos a través de [Correo electrónico o teléfono de contacto].</p>
        </section>
      </div>
      <div class="modal-footer">
        <button class="btn-close" (click)="closeModal()">Cerrar</button>
      </div>
    </div>
  </div>
</div>

